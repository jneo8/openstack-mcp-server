{{- if not .Values.secrets.useExistingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "openstack-mcp-server.fullname" . }}
  labels:
    {{- include "openstack-mcp-server.labels" . | nindent 4 }}
  annotations:
    description: "WARNING: This secret contains inline credentials. For production, use secrets.useExistingSecret instead."
type: Opaque
data:
  password: {{ .Values.secrets.password | b64enc | quote }}
{{- end }}
